{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block head %}
  {% include "head.html" %}
{% endblock %}

{% block header %}
  <header class="Header">
    {% include "header.html" %}
  </header>
{% endblock %}

{% block middle %}
<div class="Middle Middle_top">
  <div class="Middle-top">
    <div class="wrap">
      <div class="Middle-header">
        <h1 class="Middle-title">{% trans "profile" %}</h1>
        <ul class="breadcrumbs Middle-breadcrumbs">
          <li class="breadcrumbs-item">
            <a href="{% url 'product:home' %}">{% trans "home" %}</a>
          </li>
          <li class="breadcrumbs-item breadcrumbs-item_current">
            <span>{% trans "profile" %}</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="Section Section_column Section_columnLeft">
    <div class="wrap">
      {% include 'user/inc/_navigate_profile.html' %}
      <div class="Section-content">
        <div class="Profile">
          <form class="form Profile-form" action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
              <div class="row-block">
                <div class="form-group">
                  <label class="form-label" for="{{ form.avatar.id_for_label }}">{% trans "avatar"|capfirst %}</label>
                  
                  <div class="Profile-avatar Profile-avatar_noimg">
                    <div class="Profile-img">
                      {% if form.instance.avatar %}
                      <img src="{{ form.instance.avatar.url }}" alt="">
                      {% else %}
                      <label class="Profile-fileLabel" for="{{ form.avatar.id_for_label }}">{% trans "Choose an avatar" %}</label>
                      <img src="{{ form.instance.avatar }}" alt="">
                      {% endif %}
                    </div>
                    
                    <input class="Profile-file form-input" id="avatar" name="avatar" type="file" data-validate="onlyImgAvatar"/>
                  </div>
                  <div class="Profile-error">
                    {% if messages %}
                    <ul class="messages">
                      {% for message in messages %}
                        {% if message.extra_tags == 'error' %}
                        <li class="{{ message.tags }}">
                          {{ message|safe }}
                        </li>
                        {% endif %}
                      {% endfor %}
                    </ul>
                    {% endif %}
                  </div>
                </div>
                <div class="form-group">
                  <p>
                    <label class="form-label" for="{{ form.full_name.id_for_label }}">{% trans "full name"|capfirst %}</label>
                    <div class="form-error">{{ form.full_name.errors }}
                      {{ form.full_name }}
                    </div>
                  </p>
                </div>
              </div>
              <div class="row-block">
                <div class="form-group">
                  <p>
                    <label class="form-label" for="{{ form.phone.id_for_label }}">{% trans "phone"|capfirst %}</label>
                    <div class="form-error">{{ form.phone.errors }}
                      {{ form.phone }}
                    </div>
                  </p>
                </div>
                <div class="form-group">
                  <p>
                    <label class="form-label" for="{{ form.email.id_for_label }}">{% trans "e-mail"|capfirst %}</label>
                    <div class="form-error">{{ form.email.errors }}
                      {{ form.email }}
                    </div>
                  </p>
                </div>
                <div class="form-group">
                  <p>
                    <label class="form-label" for="{{ form.password1.id_for_label }}">{% trans "password"|capfirst %}</label>
                    <div class="form-error">{{ form.password1.errors }}
                      {{ form.password1 }}
                    </div>
                  </p>
                </div>
                <div class="form-group">
                  <p>
                    <label class="form-label" for="{{ form.password2.id_for_label }}">{% trans "confirm password"|capfirst %}</label>
                    <div class="form-error">{{ form.password2.errors }}
                      {{ form.password2 }}
                    </div>
                  </p>
                </div>
                <div class="form-group">
                  <div class="Profile-btn">
                    <button class="btn btn_success" type="submit">{% trans "save"|capfirst %}</button>
                  </div>
                  <div class="Profile-success">
                    {% if messages %}
                    <ul class="messages">
                      {% for message in messages %}
                        {% if message.extra_tags == 'success' %}
                        <li class="{{ message.tags }}">
                          {{ message|safe }}
                        </li>
                        {% endif %}
                      {% endfor %}
                    </ul>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}  


{% block footer %}
  {% include "footer.html" %}
{% endblock %}

{% block scripts %}
  {% include "scripts.html" %}
{% endblock %}